---
title: "Task 4: Naples Reef Purple Urchins (SILVA)"
author: "German Silva"
date: "10/28/2021"
output: 
  html_document: 
    number_sections: yes
---

# Overview



**Data Source**: Reed, D. 2020. SBC LTER: Reef: Long-term experiment: Kelp removal: Urchin size frequency distribution ver 20. Environmental Data Initiative. https://doi.org/10.6073/pasta/5a1e9ef03aa47bd2225c0bb98a02a63b. 

```{r setup, message=FALSE, warning=FALSE}
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE)

# Attach packages
library(tidyverse)
library(here)
library(janitor)
library(lubridate)
library(kableExtra)
```

# Data Exploration

## Create a stored object for purple urchins found at Naples Reef in 2010

- Read in `urchins.csv` using `read_csv()` and `here()`
- Clean names with `clean_names()`
- Convert `date` column into `class = Date`
- Make `year` column with `year()`
- Subset for purple urchins at Naples reef in 2010 using `filter()`

```{r}
naples_reef_2010 <- read_csv(here("data", "urchins.csv")) %>% # read in the csv
  clean_names() %>% # converts column names unto lower_snakecase
  mutate(date = mdy(date)) %>%  # converts date column into a date class
  mutate(year = year(date)) %>% # 
  filter(common_name == "Purple Urchin",
         year == "2010",
         site == "NAPL")
```

## Explore the data via faceted histograms and Q-Q plots

```{r}
ggplot(naples_reef_2010, aes(x= size)) +
  geom_histogram(bins = 10)+
  facet_wrap(~treatment)

ggplot(naples_reef_2010, aes(sample = size)) +
  geom_qq()+
  facet_wrap(~treatment)
```
#

**Takeaway Points**: 
Looking at both the histograms and the Q-Q plots, it appears that the data is fairly close to normally distributed (Q-Q plots have an overall linear trend). Urchins in the annual kelp removal treatment have a central tendency lower than that of the control group. 

## Summary Statistics Table

```{r}
naples_2010_stats <- naples_reef_2010 %>% 
  group_by(treatment) %>% 
  summarize(mean_diameter_cm = round(mean(size), 2),
            median_diameter_cm = round(median(size), 2),
            sd_cm = round(sd(size), 2),
            sample_size = n())

```

